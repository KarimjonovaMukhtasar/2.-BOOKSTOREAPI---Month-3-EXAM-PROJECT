<style>
    body {
        background: #f4f6fc;
        font-family: 'Segoe UI', sans-serif;
    }

    .author-wrapper {
        max-width: 500px;
        margin: 40px auto;
        background: #ffffff;
        padding: 30px 35px;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        animation: fadeIn .4s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .author-wrapper h2 {
        text-align: center;
        color: #3f51b5;
        margin-bottom: 20px;
        font-size: 26px;
        letter-spacing: .5px;
    }

    .form-group {
        margin-bottom: 18px;
    }

    input[type="text"],
    input[type="date"],
    textarea {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid #CDD4E1;
        border-radius: 10px;
        font-size: 16px;
        background: #f9fbff;
        transition: .2s;
    }

    input:focus,
    textarea:focus {
        border-color: #3f51b5;
        background: #fff;
        outline: none;
        box-shadow: 0 0 4px rgba(63,81,181,0.4);
    }

    textarea {
        min-height: 110px;
        resize: vertical;
    }

    label {
        font-weight: 600;
        display: block;
        margin-bottom: 6px;
        color: #555;
    }

    .btn-submit {
        width: 100%;
        padding: 12px;
        background: #3f51b5;
        border: none;
        color: white;
        border-radius: 10px;
        font-size: 18px;
        cursor: pointer;
        margin-top: 10px;
        transition: .3s;
    }

    .btn-submit:hover {
        background: #3244a8;
    }

    .message {
        text-align: center;
        color: #2e7d32;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .error {
        color: #d32f2f;
        background: #ffebee;
        padding: 8px 12px;
        border-radius: 6px;
        margin-bottom: 8px;
        font-size: 14px;
    }
</style>


<div class="author-wrapper">
    <h2><%= data && data.id ? "UPDATE AUTHOR" : "CREATE A NEW AUTHOR" %></h2>

    <% if (message) { %>
        <p class="message"><%= message %></p>
    <% } %>

    <% if (errors && errors.length > 0) { %>
        <% errors.forEach(function(err) { %>
            <p class="error"><%= err.message %></p>
        <% }) %>
    <% } %>

    <form action="<%= data && data.id ? '/authors/' + data.id + '/edit' : '/authors/new' %>" method="POST">

        <div class="form-group">
            <label>Author Name</label>
            <input type="text" name="name" 
                   placeholder="Enter author's full name" 
                   value="<%= data?.name || '' %>" required>
        </div>

        <div class="form-group">
            <label>Biography</label>
            <textarea name="bio" placeholder="Write a short biography..."><%= data?.bio || '' %></textarea>
        </div>

        <div class="form-group">
            <label>Birth Date</label>
            <% 
                let birthValue = "";
                if (data?.birth_date) {
                    const dt = new Date(data.birth_date);
                    if (!isNaN(dt)) birthValue = dt.toISOString().slice(0, 10);
                }
            %>
            <input type="date" name="birth_date" value="<%= birthValue %>" required>
        </div>

        <button class="btn-submit" type="submit">
            <%= data && data.id ? 'Update Author' : 'Create Author' %>
        </button>
    </form>
</div>
